{
	"name": "Radius Dev Container",
	"dockerComposeFile": [
		"../compose.yaml"
	],
	"service": "frontend-dev",
	// "onCreateCommand": "bash ./.devcontainer/on-create.sh",
	// "postCreateCommand": "echo 'Dev container built – waiting for VS Code to attach…'",
	"postStartCommand": "./scripts/wi-kind-setup.sh",
	"workspaceFolder": "/workspace",
	// "runArgs": [
	// 	"--env-file=./.devcontainer/wi.env",
	// 	"--env-file=./.devcontainer/devcontainer.env",
	// 	"--env-file=./.devcontainer/azure.sp.env"
	// ],
	"features": {
		// "ghcr.io/devcontainers/features/docker-in-docker:1": {
		// 	"version": "latest",
		// 	"dockerSocketBindMount": true,
		// 	"installDockerCompose": true
		// }
		    "ghcr.io/devcontainers/features/docker-outside-of-docker": {},
		//     "ghcr.io/devcontainers/features/azure-cli:1": {},
		//     "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
		//       "version": "latest",
		//       "helm": "latest",
		//       "minikube": "none"
		//     },
		//     "ghcr.io/devcontainers-extra/features/kind": {},
		// "ghcr.io/devcontainers-extra/features/apt-packages": {
		// 	"packages": "curl,iputils-ping,iproute2,netcat-openbsd,bind9-host,dnsutils,jq"
		// },
		//     "ghcr.io/devcontainers/features/node:1": {},
		//     "ghcr.io/devcontainers/features/github-cli": {},
		//     "ghcr.io/devcontainers/features/go:1": {
		//       "version": "latest",
		//       "golangciLintVersion": "latest"
		//     },
		//     "ghcr.io/stuartleeks/dev-container-features/shell-history:0": {},
		//     "ghcr.io/stuartleeks/dev-container-features/azure-cli-persistence:0": {},
		//     "ghcr.io/devcontainer-community/devcontainer-features/smallstep.com:1": {},
		// "ghcr.io/devcontainers-extra/features/argo-cd": {
		// 	"version": "2.13.4"
		// }
	},
	"customizations": {
		"vscode": {
			"settings": {},
			"extensions": [
				"ms-azuretools.vscode-dapr",
				"ms-dotnettools.csharp",
				"ms-azuretools.vscode-docker",
				"ms-python.python",
				"dunn.redis",
				"GitHub.copilot",
				"ms-azuretools.vscode-bicep",
				"ms-kubernetes-tools.vscode-kubernetes-tools",
				"mikeedjones.copy-file-to-chat",
				"ms-azuretools.vscode-azure-github-copilot",
				"ms-azuretools.vscode-azurestorage",
				"ms-kubernetes-tools.vscode-aks-tools"
			]
		}
	},
	"remoteEnv": {
		"LOCAL_WORKSPACE_FOLDER": "${localWorkspaceFolder}",
		"PROJECT_DIR": "${containerWorkspaceFolder}"
	},
	"mounts": [
		// {
		// 	"source": "/var/run/docker.sock",
		// 	"target": "/var/run/docker.sock",
		// 	"type": "bind"
		// },
		{
			"source": "profile",
			"target": "/root",
			"type": "volume"
		},
		{
			"target": "/root/.vscode-server",
			"type": "volume"
		},
		{
			"source": "${localEnv:HOME}/.config/lpass",
			"target": "/root/.config/lpass",
			"type": "bind"
		}
		// {
		// 	"source": "/mnt/c/Users/VinodPittampalli/.kube/config",
		// 	"target": "/root/.kube/config",
		// 	"type": "bind"
		// }
	],
	"portsAttributes": {
		"3000": {
			"label": "Next.js"
		}
	},
	"remoteUser": "root"
}