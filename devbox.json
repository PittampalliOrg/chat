{
  "$schema": "https://raw.githubusercontent.com/jetpack-io/devbox/main/.schema/devbox.schema.json",
  "packages": [
    "vault",
    "kubectl",
    "kubernetes-helm",
    "kind",
    "k3d",
    "curl",
    "jq",
    "nodejs_22",
    "pnpm",
    "gh",
    "go",
    "golangci-lint",
    "step-cli",
    "cmake",
    "gnupg",
    "pkg-config",
    "openssl",
    "libxml2",
    "yq-go@4.44.1",
    "argocd@2.13.4",
    "iputils",
    "iproute2",
    "netcat",
    "bind",
    "dnsutils",
    "azure-cli@latest"
  ],
  "env": {
    "OPENFAAS_URL": "http://localhost:8080"
  },
  "shell": {
    "init_hook": [
      "echo 'Welcome to Kind devbox environment'",
      "# Install npm global packages",
      "npm install devspace@latest cdk8s-cli",
      "npm install -g @google/gemini-cli",
      "# Install additional tools via curl if not available in nixpkgs",
      "if ! command -v azwi &> /dev/null; then",
      "  curl -fsSL 'https://github.com/Azure/azure-workload-identity/releases/download/v1.5.0/azwi-v1.5.0-linux-amd64.tar.gz' | tar -xz -C ~/.local/bin",
      "fi",
      "if ! command -v xh &> /dev/null; then",
      "  curl -fsSL 'https://github.com/ducaale/xh/releases/download/v0.17.0/xh-v0.17.0-x86_64-unknown-linux-musl.tar.gz' | tar -xz --strip-components=1 -C ~/.local/bin",
      "fi",
      "if ! command -v kubectl-ai &> /dev/null; then",
      "  curl -sSL https://raw.githubusercontent.com/GoogleCloudPlatform/kubectl-ai/main/install.sh | bash",
      "fi",
      "if ! command -v rad &> /dev/null; then",
      "  curl -fsSL 'https://raw.githubusercontent.com/radius-project/radius/main/deploy/install.sh' | bash",
      "fi",
      "if ! command -v vcluster &> /dev/null; then",
      "  curl -L 'https://github.com/loft-sh/vcluster/releases/latest/download/vcluster-linux-amd64' -o ~/.local/bin/vcluster && chmod +x ~/.local/bin/vcluster",
      "fi",
      "if ! command -v argo &> /dev/null; then",
      "  curl -sLO 'https://github.com/argoproj/argo-workflows/releases/download/v3.6.7/argo-linux-amd64.gz' && gunzip argo-linux-amd64.gz && chmod +x argo-linux-amd64 && mv argo-linux-amd64 ~/.local/bin/argo",
      "fi",
      "if ! command -v dagger &> /dev/null; then",
      "  curl -L https://dl.dagger.io/dagger/install.sh | sh && sudo mv bin/dagger /usr/local/bin/",
      "fi",
      "if ! command -v lpass &> /dev/null; then",
      "  echo 'Note: LastPass CLI needs to be built from source. You can install it manually if needed.'",
      "fi",
      "if ! command -v arkade &> /dev/null; then",
      "  curl -fsSL https://get.arkade.dev | sh && sudo mv arkade /usr/local/bin/",
      "fi"
    ],
    "scripts": {
    }
  }
}
